import request from '../utils/request';
import API from '../utils/request/api';

export async function getPage(pageName: string) {
    const response = await request({
        url: API.template,
        params: {
            pageName
        }
    });

    // const response = {
    //     "pageData": "{\"materials\":[{\"stateName\":\"fragmentFrom\",\"componentName\":\"Form\",\"source\":\"antd\",\"default\":false,\"type\":\"normal\",\"key\":\"\",\"label\":\"\",\"id\":\"fv50s10k13\",\"componentSelected\":true,\"configVisible\":false,\"materials\":[{\"stateName\":\"fragmentFrom\",\"componentName\":\"Radio\",\"source\":\"antd\",\"default\":false,\"defaultValue\":1,\"isRequired\":true,\"key\":\"status1\",\"label\":\"状态\",\"options\":[{\"value\":1,\"disabled\":false,\"rowKey\":1,\"text\":\"启用\",\"fragmentName\":\"\",\"fragmentId\":\"7mppk3ev01x\"},{\"value\":0,\"disabled\":false,\"rowKey\":2,\"text\":\"禁用\",\"fragmentName\":\"\"}],\"id\":\"o40qzr8ct\",\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"},{\"stateName\":\"fragmentFrom\",\"componentName\":\"Fragment\",\"source\":\"\",\"default\":false,\"key\":\"\",\"label\":\"\",\"materials\":[{\"stateName\":\"fragmentFrom\",\"componentName\":\"Radio\",\"source\":\"antd\",\"default\":false,\"defaultValue\":1,\"isRequired\":true,\"key\":\"status2\",\"label\":\"状态\",\"options\":[{\"value\":1,\"disabled\":false,\"rowKey\":1,\"text\":\"启用\",\"fragmentName\":\"\",\"fragmentId\":\"ovezcg4tsj\"},{\"value\":0,\"disabled\":false,\"rowKey\":2,\"text\":\"禁用\",\"fragmentName\":\"\"}],\"id\":\"k5pdkk5zw8e\",\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"},{\"stateName\":\"fragmentFrom\",\"componentName\":\"Fragment\",\"source\":\"\",\"default\":false,\"key\":\"\",\"label\":\"\",\"materials\":[{\"stateName\":\"fragmentFrom\",\"componentName\":\"Input\",\"source\":\"antd\",\"default\":false,\"key\":\"name\",\"label\":\"姓名\",\"id\":\"d0phst69od\",\"componentSelected\":true,\"configVisible\":false,\"props\":{\"placeholder\":\"姓名\"},\"formType\":\"normal\"},{\"stateName\":\"fragmentFrom\",\"componentName\":\"Radio\",\"source\":\"antd\",\"default\":false,\"defaultValue\":1,\"isRequired\":true,\"key\":\"status3\",\"label\":\"状态\",\"options\":[{\"value\":1,\"disabled\":false,\"rowKey\":1,\"text\":\"启用\",\"fragmentName\":\"\"},{\"value\":0,\"disabled\":false,\"rowKey\":2,\"text\":\"禁用\",\"fragmentName\":\"\"}],\"id\":\"i5x2kfa3mmi\",\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"}],\"fragmentName\":\"fragment2\",\"showKey\":\"status2\",\"showValue\":1,\"id\":\"ovezcg4tsj\",\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"}],\"fragmentName\":\"fragment1\",\"showKey\":\"status1\",\"showValue\":1,\"id\":\"7mppk3ev01x\",\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"}],\"props\":{},\"activeEvents\":[{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"save\",\"value\":\"fragmentFrom\"},\"actionType\":\"save\",\"responseType\":\"object\",\"method\":\"post\"}},{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"update\",\"value\":\"fragmentFrom\"},\"actionType\":\"update\",\"responseType\":\"object\",\"method\":\"post\"}},{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"get\",\"value\":\"fragmentFrom\"},\"actionType\":\"get\",\"responseType\":\"object\",\"method\":\"get\"}}],\"saveApi\":\"fragmentFrom\",\"updateApi\":\"fragmentFrom\",\"getApi\":\"fragmentFrom\",\"paramKey\":\"fragmentFrom\"}],\"paramKey\":\"fragmentFrom\"}",
    //     "pageName": "blockTest",
    //     "id": "5dbfe8c475815603bbe1f754"
    // };
    // const response = {
    //     "pageData": "{\"materials\":[{\"stateName\":\"fragmentFrom\",\"componentName\":\"Form\",\"source\":\"antd\",\"default\":false,\"type\":\"normal\",\"key\":\"\",\"label\":\"\",\"id\":\"ohmj60zkxki\",\"componentSelected\":true,\"configVisible\":false,\"materials\":[{\"id\":\"5zc0voykww3\",\"stateName\":\"fragmentFrom\",\"componentName\":\"Radio\",\"source\":\"antd\",\"default\":false,\"defaultValue\":1,\"isRequired\":true,\"key\":\"status\",\"label\":\"状态\",\"options\":[{\"value\":1,\"disabled\":false,\"rowKey\":1,\"text\":\"启用\",\"fragmentName\":\"\",\"fragmentId\":\"3pdew03mkaq\"},{\"value\":0,\"disabled\":false,\"rowKey\":2,\"text\":\"禁用\",\"fragmentName\":\"\"}],\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"},{\"id\":\"3pdew03mkaq\",\"stateName\":\"fragmentFrom\",\"componentName\":\"Fragment\",\"source\":\"\",\"default\":false,\"key\":\"\",\"label\":\"\",\"materials\":[{\"stateName\":\"\",\"componentName\":\"Input\",\"source\":\"antd\",\"default\":false,\"key\":\"name\",\"label\":\"姓名\",\"id\":\"82enq48bbu\",\"componentSelected\":true,\"configVisible\":false,\"props\":{\"placeholder\":\"姓名\"}}],\"fragmentName\":\"fragment1\",\"showKey\":\"status\",\"showValue\":1,\"componentSelected\":true,\"configVisible\":false,\"formType\":\"normal\"}],\"props\":{},\"activeEvents\":[{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"save\",\"value\":\"fragmentFrom\"},\"actionType\":\"save\",\"responseType\":\"object\",\"method\":\"post\"}},{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"update\",\"value\":\"fragmentFrom\"},\"actionType\":\"update\",\"responseType\":\"object\",\"method\":\"post\"}},{\"eventType\":\"request\",\"dependencies\":{\"type\":\"fetch\",\"api\":{\"key\":\"get\",\"value\":\"fragmentFrom\"},\"actionType\":\"get\",\"responseType\":\"object\",\"method\":\"get\"}}],\"saveApi\":\"fragmentFrom\",\"updateApi\":\"fragmentFrom\",\"getApi\":\"fragmentFrom\",\"paramKey\":\"fragmentFrom\"}],\"paramKey\":\"fragmentFrom\"}",
    //     "pageName": "fragment",
    //     "id": "5dc29b3d75815603bbe1f865"
    // };
    const pageData = JSON.parse(response.pageData);
    return pageData;
}
