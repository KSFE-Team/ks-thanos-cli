(window.webpackJsonp=window.webpackJsonp||[]).push([[9,18],{2866:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STATE=void 0,a(470);var i=n(a(227)),r=n(a(96)),l=n(a(301)),o=n(a(138)),s=n(a(475)),c=a(228),u=a(226),m={pageList:[],searchPageForm:{page:1,limit:12,totalPage:0,total:0,pageName:{value:""}},cuPageModalVisible:!1};t.STATE=m;var p={namespace:"existingPage",initialState:(0,o.default)({},m),effects:{getPageList:function(){var e=(0,l.default)(r.default.mark((function e(t,a){var n,i,l,m;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().existingPage.searchPageForm,i={page:n.page,limit:n.limit,pageName:n.pageName.value},e.next=4,(0,s.default)(c.API.page.query,{method:"GET",body:i});case 4:(l=e.sent)&&!l.errcode&&(m=l.result,u.actions.existingPage.setReducers({pageList:m.list,searchPageForm:(0,o.default)((0,o.default)({},n),{},{totalPage:m.totalPage,total:m.total})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deletePageItem:function(){var e=(0,l.default)(r.default.mark((function e(t){var a,n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageName,e.next=3,(0,s.default)(c.API.page.delete,{method:"POST",body:{pageName:a}});case 3:(n=e.sent)&&!n.errcode&&(i.default.success("\u5220\u9664\u9875\u9762".concat(a,"\u6210\u529f")),u.actions.existingPage.getPageList());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.default=p},3020:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(0)),r=n(a(3021));t.default=function(){return i.default.createElement(r.default,null)}},3021:function(e,t,a){"use strict";var n=a(2),i=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(473);var r=i(a(302));a(304);var l=i(a(86));a(478);var o=i(a(305));a(113);var s=i(a(48));a(474);var c=i(a(70));a(477);var u=i(a(115)),m=i(a(96)),p=i(a(138)),d=i(a(301));a(469);var f=i(a(2680)),g=n(a(0)),h=a(226),v=a(300),E=i(a(2895)),x=a(2866),P=i(a(2865)),T=i(a(3022)),b=i(a(2857)),y=f.default.Search;t.default=function(){var e=(0,v.useSelector)((function(e){return{existingPage:e.existingPage,workspace:e.workspace,listLoading:e.loading.effects["existingPage/getPageList"]}})),t=e.existingPage,a=e.listLoading,n=e.workspace,i=t.pageList,f=void 0===i?[]:i,L=t.searchPageForm,w=t.cuPageModalVisible,k=n.thanosModalVisible,A=n.currentProject,R=function(){var e=(0,d.default)(m.default.mark((function e(t){return m.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.actions.existingPage.setReducers({searchPageForm:(0,p.default)((0,p.default)({},L),{},{page:t})}),e.next=3,O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return h.actions.existingPage.getPageList()},I=function(){var e=(0,d.default)(m.default.mark((function e(t){return m.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.actions.existingPage.setReducers({searchPageForm:(0,p.default)((0,p.default)({},L),{},{page:1,pageName:{value:t}})});case 2:return e.next=4,O();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,g.useEffect)((function(){var e=(0,p.default)({},x.STATE);h.actions.existingPage.setReducers((0,p.default)({},e)),O()}),[]);var N=g.default.createElement("div",{style:{display:"flex",height:"100%",flexDirection:"column",padding:24}},g.default.createElement(u.default,{gutter:[20,20]},f.map((function(e,t){return g.default.createElement(P.default,{onAddProject:function(){h.actions.global.setReducers({currentPath:"".concat(A.path,"/src/pages")})},key:t,item:e,type:"page"})}))));return g.default.createElement("div",{className:"my-page-container"},g.default.createElement(r.default,{spinning:a},g.default.createElement(u.default,null,g.default.createElement(c.default,{span:8,style:{lineHeight:"32px"}}),g.default.createElement(c.default,{span:16,style:{textAlign:"right"}},g.default.createElement(y,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",style:{width:200,marginRight:10},onSearch:I}),g.default.createElement(s.default,{onClick:function(){R(1)}},"\u5237\u65b0"),g.default.createElement(s.default,{className:"mar-l-4",type:"primary",onClick:function(){h.actions.existingPage.setReducers({cuPageModalVisible:!0})}},"\u65b0\u589e"))),N,g.default.createElement(u.default,{className:b.default.pagination,justify:"end"},g.default.createElement(o.default,{size:"small",current:L.page,onChange:R,total:L.total,pageSize:L.limit})),0!==f.length||a?"":g.default.createElement(l.default,{description:g.default.createElement("span",null,"\u672a\u641c\u7d22\u5230\u4efb\u4f55\u6570\u636e")}),w&&g.default.createElement(T.default,null),k&&g.default.createElement(E.default,null)))}},3022:function(e,t,a){"use strict";var n=a(2),i=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(2682);var r=i(a(2683));a(473);var l=i(a(302));a(478);var o=i(a(305));a(113);var s=i(a(48));a(470);var c=i(a(227)),u=i(a(138)),m=i(a(22)),p=i(a(26)),d=i(a(31)),f=i(a(34));a(469);var g=i(a(2680)),h=n(a(0)),v=a(226),E=a(114),x=a(3023),P=a(2866),T=i(a(3024)),b=g.default.Search,y=function(e){(0,d.default)(a,e);var t=(0,f.default)(a);function a(){var e;(0,m.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={tab:0,tempTabs:x.tempTabs,pageOrTempInfo:{pageOrTemp:"template",type:"2"},templateId:""},e.changeLimit=function(e){v.actions.myTemplate.setReducers({searchTemplateForm:(0,u.default)((0,u.default)({},P.STATE.searchTemplateForm),{},{limit:e})})},e.handlePageChange=function(t){"page"===e.state.pageOrTempInfo.pageOrTemp?v.actions.existingPage.setReducers({searchPageForm:(0,u.default)((0,u.default)({},e.props.existingPage.searchPageForm),{},{page:t})}):v.actions.myTemplate.setReducers({searchTemplateForm:(0,u.default)((0,u.default)({},e.props.myTemplate.searchTemplateForm),{},{page:t})}),e.loadList()},e.loadList=function(){var t=e.state.pageOrTempInfo;"page"===t.pageOrTemp?v.actions.existingPage.getPageList():v.actions.myTemplate.getTemplateList((0,u.default)({},t))},e.resetPage=function(t){2===e.state.tab?e.props.existingPage.searchPageForm.pageName.value=t:e.props.myTemplate.searchTemplateForm.templateName.value=t,e.handlePageChange(1)},e.changeTabe=function(t){var a=e.state.pageOrTempInfo;0===t?(a.pageOrTemp="template",a.type="2"):1===t?(a.pageOrTemp="template",a.type="1"):2===t&&(a.pageOrTemp="page",a.type=""),e.setState({tab:t,pageOrTempInfo:a,templateId:""}),e.loadList()},e.gotoPage=function(){v.actions.existingPage.setReducers({cuPageModalVisible:!1});var t=e.state,a=t.pageOrTempInfo,n=t.templateId;"-1"===n?E.goto.push("/editor/".concat(n)):E.goto.push("/editor/".concat(n,"?pageOrTemp=").concat(a.pageOrTemp))},e}return(0,p.default)(a,[{key:"componentDidMount",value:function(){this.loadList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.tempTabs,n=t.tab,i=t.templateId,u=t.pageOrTempInfo.pageOrTemp,m=this.props,p=m.listLoading,d=m.getPageListLoading,f=this.props.existingPage,g=f.pageList,E=void 0===g?[]:g,x=f.searchPageForm,P=f.cuPageModalVisible,y=this.props.myTemplate,L=y.templateList,w=void 0===L?[]:L,k=y.searchTemplateForm,A="page"===u?E:w,R="page"===u?x:k;return h.default.createElement(r.default,{visible:P,width:"85%",confirmLoading:p,onCancel:function(){v.actions.existingPage.setReducers({cuPageModalVisible:!1}),v.actions.myTemplate.getTemplateList({pageOrTemp:"page"})},onOk:function(){i?e.gotoPage():c.default.error("\u8bf7\u9009\u62e9\u4e00\u4e2a\u9009\u9879")}},h.default.createElement("div",{style:{marginBottom:"20px"}},h.default.createElement(b,{placeholder:"\u8bf7\u8f93\u5165".concat(2===n?"\u9875\u9762\u540d\u79f0":"\u6a21\u7248\u540d\u79f0"),style:{width:300,marginRight:10},onSearch:this.resetPage,addonBefore:2===n?"\u9875\u9762\u540d\u79f0":"\u6a21\u7248\u540d\u79f0"}),a.map((function(t,a){return h.default.createElement(s.default,{key:t.index,className:n===a?"tab-active mar-l-4":"mar-l-4",onClick:function(){e.changeTabe(a)}},t.name)}))),h.default.createElement(l.default,{spinning:!!p||!!d},h.default.createElement("ul",{className:"content"},0===n&&h.default.createElement("li",{key:-1,className:"-1"===i?"liborder temp-item-container temp-item-text":"temp-item-container temp-item-text",onClick:function(){return e.setState({templateId:"-1"})}},"\u7a7a\u767d\u6a21\u7248"),A.length&&A.length>0?A.map((function(t,a){var n=t.img,r=void 0===n?"":n;return r?h.default.createElement(T.default,{key:a,text:t["".concat(u,"Name")],src:r,className:i===t["".concat(u,"Name")]?"liborder":"",onClick:function(){e.setState({templateId:t["".concat(u,"Name")]})}}):h.default.createElement("li",{key:a,className:i===t["".concat(u,"Name")]?"liborder temp-item-container temp-item-text":"temp-item-container temp-item-text",onClick:function(){return e.setState({templateId:t["".concat(u,"Name")]})}},t["".concat(u,"Name")])})):h.default.createElement("li",{key:-2},"\u6682\u65e0\u6570\u636e")),h.default.createElement(o.default,{defaultCurrent:1,total:R.total,current:R.page,pageSize:R.limit,onChange:this.handlePageChange})))}}]),a}(h.Component),L=(0,v.connect)((function(e){var t=e.myTemplate,a=e.existingPage,n=e.loading;return{myTemplate:t,existingPage:a,listLoading:n.effects["myTemplate/getTemplateList"],getPageListLoading:n.effects["existingPage/getPageList"]}}))(y);t.default=L},3023:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISREQUIRED_TYPE=t.tempTabs=t.FORM_MESSAGE=t.FIELD_ARR=t.CHARACTER_MESSAGE=t.CHARACTER_REG=t.TABLE_TYPE=t.ALIAS=t.FORMITEM_LAYOUT=t.PROJECT_NAME=t.env=void 0;var n="production";t.env=n;t.PROJECT_NAME="/h5/ks-thanos";t.FORMITEM_LAYOUT={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};t.ALIAS={KEY:"\u8868\u5355Key",LABEL:"\u8868\u5355Label",PLACEHOLDER:"Placeholder",DATE_FORMAT:"\u65e5\u671f\u683c\u5f0f",SHOW_TIME:"\u662f\u5426\u6709\u9009\u62e9\u65f6\u95f4\u529f\u80fd",TIME_FORMAT:"\u65f6\u95f4\u683c\u5f0f",TYPE:"\u7c7b\u578b",ISREQUIRED:"\u662f\u5426\u5fc5\u586b",DEFAULTVALUE:"\u9ed8\u8ba4\u503c"};t.TABLE_TYPE={NORMAL:1,PARENT_TABLE:2,CHILDREN_TABLE:3};t.CHARACTER_REG=/[\u4e00-\u9fa5]/;t.CHARACTER_MESSAGE="\u5b57\u6bb5\u503c\u4e0d\u80fd\u4e3a\u6c49\u5b57\u7b26\uff01\u8bf7\u91cd\u65b0\u8f93\u5165\u3002";t.FIELD_ARR=["key","label"];t.FORM_MESSAGE="\u8bf7\u586b\u5199\u5b8c\u6574\u914d\u7f6e\u4fe1\u606f, * \u53f7\u4e3a\u5fc5\u586b\u9879";t.tempTabs=[{name:"\u5e93\u6a21\u7248",index:0},{name:"\u5171\u4eab\u6a21\u7248",index:1},{name:"\u73b0\u6709\u9875\u9762",index:2}];t.ISREQUIRED_TYPE=[{VALUE:!0,LABEL:"\u5fc5\u586b"},{VALUE:!1,LABEL:"\u975e\u5fc5\u586b"}]},3024:function(e,t,a){"use strict";var n=a(2),i=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(22)),l=i(a(26)),o=i(a(31)),s=i(a(34)),c=n(a(0)),u=a(2681);a(3025);var m=function(e){(0,o.default)(a,e);var t=(0,s.default)(a);function a(){return(0,r.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.text,n=t.src,i=t.className,r=void 0===i?"":i;return c.default.createElement("div",{className:"".concat(r," temp-item-container temp-item-screenshots-container"),onClick:function(){var t=e.props.onClick;t&&t()}},c.default.createElement("div",{className:"temp-item-title"},a),c.default.createElement("div",{className:"file-info"},c.default.createElement("div",{className:"file-mask"}),c.default.createElement("div",{className:"file-action"},c.default.createElement(u.EyeOutlined,{onClick:function(){var e=new Image;e.src=n,e.style.width="100vw",e.style.margin="-8px";var t=window.open("","_blank")||window;t.document.write(e.outerHTML),t.document.title="\u9884\u89c8\u56fe",t.document.close()}})),c.default.createElement("img",{className:"temp-item-screenshots",src:n})))}}]),a}(c.Component);t.default=m},3025:function(e,t,a){var n=a(3026);"string"===typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(21)(n,i);n.locals&&(e.exports=n.locals)},3026:function(e,t,a){(e.exports=a(20)(!1)).push([e.i,".my-template-container{margin:auto}.my-template-container .my-template-title{font-size:30px}.content{margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;font-weight:bold;font-size:20px}.content .temp-item-container{width:24%;margin-right:10px;margin-bottom:10px;border:1px solid #ccc;height:180px}.content .temp-item-text{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.content .temp-item-screenshots-container{padding:0 10px 10px}.content .temp-item-screenshots-container .temp-item-title{height:30px;line-height:30px;padding:0 5px}.content .temp-item-screenshots-container .temp-item-screenshots{width:100%;cursor:pointer;border:1px solid rgba(0,0,0,.3)}.content .temp-item-screenshots-container .file-info{width:100%;height:-webkit-calc(100% - 30px);height:-moz-calc(100% - 30px);height:calc(100% - 30px);text-align:center;position:relative;overflow:hidden}.content .temp-item-screenshots-container .file-info .file-mask{position:absolute;background-color:rgba(0,0,0,.5);left:0;top:0;right:0;bottom:0;display:none}.content .temp-item-screenshots-container .file-info .file-thumbnail{width:100%}.content .temp-item-screenshots-container .file-info .file-action{font-size:16px;position:absolute;top:50%;color:rgba(255,255,255,.8);left:50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);cursor:pointer;display:none}.content .temp-item-screenshots-container .file-info .file-action:hover{color:#fff}.content .temp-item-screenshots-container .file-info:hover .file-mask,.content .temp-item-screenshots-container .file-info:hover .file-action{display:block}.tab-active{background:#037cee !important;color:#fff !important}.liborder{border-color:#1890ff !important}",""])}}]);