{"version":3,"sources":["../../../src/utils/logger/index.js"],"names":["combine","timestamp","json","prettyPrint","colorize","simple","format","transportHelpers","transports","Console","TransportMongoDB","host","DataBaseConfig","port","dbName","logger","level","exceptionHandlers","concat","File","filename"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAM;AAAEA,EAAAA,OAAF;AAAWC,EAAAA,SAAX;AAAsBC,EAAAA,IAAtB;AAA4BC,EAAAA,WAA5B;AAAyCC,EAAAA,QAAzC;AAAmDC,EAAAA;AAAnD,IAA8DC,eAApE;AAEA,MAAMC,gBAAgB,GAAG,CACrB,IAAIC,oBAAWC,OAAf,CAAuB;AACnBH,EAAAA,MAAM,EAAED,MAAM;AADK,CAAvB,CADqB,EAIrB,IAAIK,yBAAJ,CAAqB;AACjBC,EAAAA,IAAI,EAAEC,gBAAeD,IADJ;AAEjBE,EAAAA,IAAI,EAAED,gBAAeC,IAFJ;AAGjBC,EAAAA,MAAM,EAAEF,gBAAeE;AAHN,CAArB,CAJqB,CAAzB;AAYA,MAAMC,MAAM,GAAG,2BAAa;AACxBC,EAAAA,KAAK,EAAE,MADiB;AAExBV,EAAAA,MAAM,EAAEN,OAAO,CACXI,QAAQ,EADG,EAEXF,IAAI,EAFO,EAGXD,SAAS,CAAC;AACNK,IAAAA,MAAM,EAAE;AADF,GAAD,CAHE,EAMXH,WAAW,EANA,CAFS;AAUxBK,EAAAA,UAAU,EAAED,gBAVY;AAWxBU,EAAAA,iBAAiB,EAAEV,gBAAgB,CAACW,MAAjB,CAAwB,CACvC,IAAIV,oBAAWW,IAAf,CAAoB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAApB,CADuC,CAAxB;AAXK,CAAb,CAAf;eAgBeL,M","sourcesContent":["import { createLogger, format, transports } from 'winston';\nimport DataBaseConfig from '../../models/config';\nimport TransportMongoDB from './transportMongoDB';\n\nconst { combine, timestamp, json, prettyPrint, colorize, simple } = format;\n\nconst transportHelpers = [\n    new transports.Console({\n        format: simple()\n    }),\n    new TransportMongoDB({\n        host: DataBaseConfig.host,\n        port: DataBaseConfig.port,\n        dbName: DataBaseConfig.dbName\n    }),\n];\n\n// 配置日志生成对象\nconst logger = createLogger({\n    level: 'info',\n    format: combine(\n        colorize(),\n        json(),\n        timestamp({\n            format: 'YY-MM-DD HH:mm:ss'\n        }),\n        prettyPrint()\n    ),\n    transports: transportHelpers,\n    exceptionHandlers: transportHelpers.concat([\n        new transports.File({ filename: 'log/exceptions.log' }),\n    ])\n});\n\nexport default logger;\n"],"file":"index.js"}